{
  "$schema": "http://json-schema.org/draft/2019-09/schema#",

  "definitions": {

    "AuthClientConfig":   {
      "type": "object",
      "properties": {
        "authority": {
          "type": "string",
          "format": "uri",
          "example": "https://blueants.eu.auth0.com/auth"
        },
        "client_id": {
          "type": "string",
          "example": "PZ0lovaUSzY2sBaicz3MYK6Z6PzCNj3q"
        },
        "redirect_uri": {
          "type": "string",
          "format": "uri",
          "example": "https://blueants.eu.auth0.com/viewer"
        },
        "extraQueryParams": {
          "type": "object",
          "additionalProperties": true
        }
      },
      "required": ["authority", "client_id"],
      "additionalProperties": false,
      "examples": [
        {
          "authority": "https://cyanoalert.eu.auth0.com",
          "client_id": "XZ0gDtbUTzY9sAoacz3MYK6U6PzENj6s",
          "extraQueryParams": {
            "audience": "https://cyanoalert.eu/api/"
          }
        }
      ]
    },

    "ApiServerConfig": {
      "type": "object",
      "properties": {
        "id": {"type": "string", "example": "local"},
        "name": {"type": "string", "example": "Local Server"},
        "url": {"type": "string", "format": "uri", "example": "https://blueants.eu/api/"}
      },
      "required": ["id", "name", "url"],
      "additionalProperties": false
    },

    "ColorSchema": {
      "oneOf": [
        {
          "type": "string",
          "example": "lime",
          "enum": [
            "amber", "blue", "blueGrey", "brown",
            "cyan", "deepOrange", "deepPurple", "green",
            "grey", "indigo", "lightBlue", "lightGreen", "lime",
            "orange", "pink", "purple", "red",
            "teal", "yellow"
          ]
        },
        {
          "type": "object",
          "properties": {
            "light": { "type": "string", "example": "#ceef64" },
            "main": { "type": "string", "example": "#9abc31" },
            "dark": { "type": "string", "example": "#688c00" },
            "contrastText": { "type": "string", "example": "#fff" }
          },
          "required": ["light","main", "dark", "contrastText"],
          "additionalProperties": false
        }
      ]
    },

    "Branding": {
      "type": "object",
      "properties": {
        "appBarTitle": {"type": "string", "example": "xcube Viewer"},
        "windowTitle": {"type": "string", "example": "xcube Viewer"},
        "themeName": {"type": "string", "example": "light", "enum": ["dark", "light"]},
        "primaryColor": { "$ref": "#/definitions/ColorSchema" },
        "secondaryColor": { "$ref": "#/definitions/ColorSchema" },
        "headerBackgroundColor": {"type": "string", "example": "#fafafa"},
        "logoImage": {"type": "string", "example": "images/logo.png"},
        "logoWidth": { "type": "integer", "example": 32, "minimum": 0 },
        "baseMapUrl": {
          "type": "string",
          "format": "uri-template",
          "example": "https://services.arcgisonline.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"
        },
        "defaultAgg": {
          "type": "string",
          "example": "mean",
          "enum": ["mean", "median", "min", "max"]
        },
        "polygonFillOpacity": {
          "type": "number",
          "minimum": 0.0,
          "maximum": 1.0,
          "example": 0.025
        },
        "mapProjection": {
          "enum": ["EPSG:4326", "EPSG:3857"],
          "default": "EPSG:4326"
        },
        "allowDownloads": {
          "type": "boolean",
          "default": true
        },
        "allowRefresh": {
          "type": "boolean",
          "default": true
        }
      },
      "additionalProperties": false
    }
  },

  "type": "object",

  "properties": {
    "name": {"type": "string"},
    "authClient": {"$ref": "#/definitions/AuthClientConfig"},
    "server": {"$ref": "#/definitions/ApiServerConfig"},
    "branding": {"$ref": "#/definitions/Branding"}
  },

  "required": ["name", "server", "branding"],

  "additionalProperties": false
}
